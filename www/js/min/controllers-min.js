var unionVillage=angular.module("unionVillage.controllers",[]);unionVillage.controller("headerCtrl",function(e,n){e.isActive=function(e){return e===n.path()},$(".navbar-collapse a:not(.dropdown-toggle)").click(function(){$(".navbar-collapse").collapse("hide")})});var config={apiKey:"AIzaSyDEQLgoUIz4JcggXiURBVPylAq0pJYrgi0",authDomain:"temporaryuv.firebaseapp.com",databaseURL:"https://temporaryuv.firebaseio.com",storageBucket:"temporaryuv.appspot.com",messagingSenderId:"1020616732436"};firebase.initializeApp(config),unionVillage.controller("headerCtrl",function(e,n){e.isActive=function(e){return e===n.path()},$(".navbar-collapse a:not(.dropdown-toggle)").click(function(){$(".navbar-collapse").collapse("hide")})}),unionVillage.controller("LoginCtrl",function(e,n,t,o){var l=firebase.auth().currentUser;l?(console.log("User is logged in"),n.go("unionVillage.dashboard")):(console.log("User is logged out"),n.go("unionVillage.home")),e.login=function(e,t){firebase.auth().signInWithEmailAndPassword(e,t).catch(function(e){var n=e.code,t=e.message;"auth/wrong-password"===n?alert("Wrong password."):console.error(e)}),firebase.auth().onAuthStateChanged(function(e){e&&n.go("unionVillage.dashboard")}),null!=l&&l.providerData.forEach(function(e){console.log("Sign-in provider: "+e.providerId),console.log("  Provider-specific UID: "+e.uid),console.log("  Name: "+e.displayName),console.log("  Email: "+e.email),console.log("  Photo URL: "+e.photoURL)})},e.logout=function(){firebase.auth().signOut().then(function(){},function(e){}),n.go("unionVillage.home")}}),unionVillage.controller("dashboardCtrl",function(e,n,t){function o(t){e.todos=n(l)}var l=firebase.database().ref("notificationCenter");l.on("value",function(e){t(function(){o(e),console.log(e)})})}),unionVillage.controller("mapCtrl",function(){var e=new Datamap({scope:"world",element:document.getElementById("container1"),projection:"mercator",height:500,fills:{defaultFill:"#f0af0a",lt50:"rgba(0,244,244,0.9)",gt50:"red"},data:{USA:{fillKey:"lt50"},RUS:{fillKey:"lt50"},CAN:{fillKey:"lt50"},BRA:{fillKey:"gt50"},ARG:{fillKey:"gt50"},COL:{fillKey:"gt50"},AUS:{fillKey:"gt50"},ZAF:{fillKey:"gt50"},MAD:{fillKey:"gt50"}}});e.arc([{origin:{latitude:36.071138,longitude:-115.030244},destination:{latitude:37.618889,longitude:-122.375}},{origin:{latitude:30.194444,longitude:-97.67},destination:{latitude:25.793333,longitude:-.290556}}],{strokeWidth:2}),e.bubbles([{name:"Hot",latitude:21.32,longitude:5.32,radius:10,fillKey:"gt50"},{name:"Chilly",latitude:-25.32,longitude:120.32,radius:18,fillKey:"lt50"},{name:"Hot again",latitude:21.32,longitude:-84.32,radius:8,fillKey:"gt50"}],{popupTemplate:function(e,n){return"<div class='hoverinfo'>It is "+n.name+"</div>"}})}),unionVillage.controller("restaurantsCtrl",function(e,n,t){function o(t){e.todos=n(l)}var l=firebase.database().ref("restaurants");l.on("value",function(e){t(function(){o(e),console.log(e)})});var i=firebase.storage().ref(),a=i.child("mountains.jpg"),r=i.child("images/mountains.jpg");a.name===r.name,a.fullPath===r.fullPath}),unionVillage.controller("gamblingCtrl",function(e,n,t){function o(t){e.todos=n(l)}var l=firebase.database().ref("gambling");l.on("value",function(e){t(function(){o(e),console.log(e)})})}),unionVillage.controller("sightsCtrl",function(e,n,t){function o(t){e.todos=n(l)}var l=firebase.database().ref("sights");l.on("value",function(e){t(function(){o(e),console.log(e)})})}),unionVillage.controller("calendarCtrl",function(e){$(document).ready(function(){var e=new Array({startDate:new Date(2016,7,20),endDate:new Date(2016,0,20),title:"Event 1",description:"Description 1",allDay:!0,priority:1,frecuency:1},{startDate:new Date(2016,7,20,19,50),endDate:new Date(2016,7,20,21,0),title:"Event 2",description:"Description 2",priority:3,frecuency:1},{startDate:new Date(2016,9,31),endDate:new Date(2016,9,31),title:"Henderson Hospital Opens!",description:"After years of development Henderson Hospital is open for business and Union Village officially kicks off!",allDay:!0,priority:3,frecuency:1});$("#calendar").dp_calendar({format_ampm:!0,events_array:e})})}),unionVillage.controller("weatherCtrl",function(e){$(document).ready(function(){$.simpleWeather({woeid:"2357536",location:"Henderson, NV",unit:"f",success:function(e){html="<h2>"+e.temp+"&deg;"+e.units.temp+"</h2>",html+="<ul><li>"+e.city+", "+e.region+"</li>",html+='<li class="currently">'+e.currently+"</li>",html+="<li>"+e.alt.temp+"&deg;C</li>",html+='<li><p style="float: left; margin-right: 10px;">Today&#39;s High/Low:</p>'+e.high+"&deg / "+e.low+"&deg</li></ul>";for(var n=1;n<6;n++)html+="<p>"+e.forecast[n].day+" H/L: "+e.forecast[n].high+"/"+e.forecast[n].low+"</p>";$("#weather").html(html)},error:function(e){$("#weather").html("<p>"+e+"</p>")}})})}),unionVillage.controller("appCtrl",function(e,n){e.$state=n});