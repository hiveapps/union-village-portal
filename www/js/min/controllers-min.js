var unionVillage=angular.module("unionVillage.controllers",[]);unionVillage.controller("headerCtrl",function(o,e){o.isActive=function(o){return o===e.path()},$(".navbar-collapse a:not(.dropdown-toggle)").click(function(){$(".navbar-collapse").collapse("hide")})}),unionVillage.controller("LoginCtrl",function(o,e,i){function n(o){switch(o.provider){case"password":return o.password.email.replace(/@.*/,"");case"twitter":return o.twitter.displayName;case"facebook":return o.facebook.displayName}}var a=new Firebase("https://temporaryuv.firebaseio.com/"),r=new Firebase("https://temporaryuv.firebaseio.com/"),t=r.getAuth();t?(console.log("User "+t.uid+" is logged in with "+t.provider),i.go("unionVillage.dashboard")):(console.log("User is logged out"),i.go("unionVillage.home")),o.register=function(o,e){a.createUser({email:o,password:e},function(n){n?console.log("Error creating user:",n):(a.authWithPassword({email:o,password:e},function(o,e){o?console.log("Login Failed!",o):console.log("Authenticated successfully with payload:",e)}),i.go("unionVillage.dashboard"))})},o.login=function(o,e){a.authWithPassword({email:o,password:e},function(o){o?console.log("Login Failed!",o):i.go("unionVillage.dashboard")})};var l=!0,s=new Firebase("https://temporaryuv.firebaseio.com/");s.onAuth(function(o){o&&l&&s.child("users").child(o.uid).set({provider:o.provider,name:n(o)})}),o.logout=function(){a.unauth(),i.go("unionVillage.home")}}),unionVillage.controller("dashboardCtrl",function(o,e,i){function n(i){o.todos=e(r)}var a=new Firebase("https://temporaryuv.firebaseio.com/"),r=new Firebase("https://temporaryuv.firebaseio.com/notificationCenter");r.on("value",function(o){i(function(){n(o),console.log(o)})});var t=a.child("notificationCenter");o.addItem=function(){var e=(new Date).valueOf();t.push({id:e,description:o.postDescription,liked:!1}),o.postDescription=""},o.changeStatus=function(o){var e=new Firebase(a+o.id);e.update({id:o.id,description:o.description})}});